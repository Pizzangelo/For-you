<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine ðŸ’–</title>
<link rel="stylesheet" href="style.css">
<style>
/* Optional inline CSS for hearts and shake */
.heart {
  position: fixed;
  pointer-events: none;
  animation: float 5s linear forwards;
}
@keyframes float {
  0% { transform: translateY(0); opacity: 1; }
  100% { transform: translateY(-100vh); opacity: 0; }
}
.shake {
  animation: shake 0.3s;
}
@keyframes shake {
  0% { transform: translate(0px, 0px); }
  25% { transform: translate(5px, 0px); }
  50% { transform: translate(-5px, 0px); }
  75% { transform: translate(5px, 0px); }
  100% { transform: translate(0px, 0px); }
}
#buttonArea {
  margin-top: 20px;
}
button {
  padding: 10px 20px;
  font-size: 18px;
  cursor: pointer;
}
.full-yes {
  background-color: #ff69b4;
  color: white;
  transform: scale(2) !important;
}
</style>
</head>
<body>

<!-- IMAGE FIRST -->
<img src="sending-you-hearts-pikaole.gif" alt="Hearts">

<!-- THEN THE TEXT -->
<h1>Hello, Baby Girl</h1>
<p id="typing"></p>
<p id="statusMsg"></p>

<!-- BUTTON AREA -->
<div id="buttonArea">
  <button id="yesBtn" class="yes">Yes</button>
  <button id="noBtn" class="no">No</button>
</div>

<script>
/* TYPING EFFECT */
const text = "Can I ask you, Will you be my Valentines?";
let i = 0;

function typeEffect() {
  if (i < text.length) {
    document.getElementById("typing").innerHTML += text.charAt(i);
    i++;
    setTimeout(typeEffect, 60);
  }
}

typeEffect();

/* FLOATING HEARTS */
function createHeart() {
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.innerHTML = "ðŸ’–";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.fontSize = Math.random() * 20 + 15 + "px";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 5000);
}
setInterval(createHeart, 300);

/* BUTTON LOGIC */
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const msg = document.getElementById("statusMsg");

let dodgeCount = 0;
let yesGrowCount = 0;
let yesScale = 1;

const messages = [
  "aguy tinetesting niya pa yung no button XD",
  "sure ka??",
  "Luh, pagisipan mo naman mabuti:((",
  "trip niya ko oh.",
  "sigi na pleaseee bbg :((",
  "hangkulet talaga!",
  "aguyyy trip niya talaga ako :((",
  "iiyak talaga ako pag pinindot mo pa no:((",
  "tanggalin ko na nga yan ! smh ! hehe :3",
];

const dodgeMessages = [
  "Ayaw ko talaga tol",
  "oo nga ni!",
  "bahala ka jan, hmph!",
  "talaga!",
  "aguyyyy wawa namannn",
  "No! :3",
];

/* SHAKE EFFECT */
function shakeScreen() {
  document.body.classList.add("shake");
  setTimeout(() => {
    document.body.classList.remove("shake");
  }, 300);
}

const maxDodges = 6;
const maxNoClicks = 6;
/*no button dodge*/
noBtn.addEventListener("mouseover", () => {
  if (dodgeCount < maxDodges) {
    dodgeCount++;

    const padding = 20;

    // get button width and height
    const btnWidth = noBtn.offsetWidth;
    const btnHeight = noBtn.offsetHeight;

    // max position inside viewport
    const maxX = window.innerWidth - btnWidth - padding;
    const maxY = window.innerHeight - btnHeight - padding;

    // random position, clamped to maxX/maxY
    const x = Math.min(Math.random() * (maxX - padding) + padding, maxX);
    const y = Math.min(Math.random() * (maxY - padding) + padding, maxY);

    noBtn.style.position = "fixed"; // FIXED is important
    noBtn.style.left = `${x}px`;
    noBtn.style.top = `${y}px`;

    shakeScreen();
    msg.textContent = messages[dodgeCount - 1];

    // Change No button text dynamically
    if (dodgeCount - 1 < dodgeMessages.length) {
      noBtn.textContent = dodgeMessages[dodgeCount - 1];
    }
  }
});


/* NO BUTTON CLICK */
noBtn.addEventListener("click", () => {
  if (dodgeCount < maxDodges) return;

  if (yesGrowCount < 11) {
    yesGrowCount++;
    yesScale += 0.75;
    yesBtn.style.transform = `scale(${yesScale})`;
    msg.textContent = messages[yesGrowCount + 2] || "Sigi na labb :33";

    if (yesGrowCount >= maxNoClicks) noBtn.style.display = "none";

    if (yesGrowCount === 11) {
      noBtn.style.display = "none";
      yesBtn.classList.add("full-yes");
      msg.textContent = "Wala ka nang kawala ðŸ˜˜ðŸ’–";
    }
  }
});

/* YES BUTTON CLICK */
yesBtn.addEventListener("click", () => {
  setTimeout(() => {
    window.location.href = "yes.html";
  }, 600);
});
</script>

</body>
</html>
